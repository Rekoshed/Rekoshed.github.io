
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Командная сторока</title>
		  <link  href="../../Design/script.css" rel="stylesheet">
		  <link  href="../../Design/toolbar.css" rel="stylesheet">
		  <script src ="../../Design/bild.js"></script>
		  </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../Bash_main.html');
		 </script>
			<div class="content">
<h2>Индексный дескриптор</h2>
<p>
Для пользователя файл – это область данных на диске, к которой можно обратиться через имя файла. 
Однако в операционных системах на базе ядра Linux вся информация о файле привязана не к его имени,
 а так называемому числовому <strong>индексному дескриптору</strong>.
  У каждого файла есть свой уникальный индексный дескриптор, к которому привязаны сведения об этом файле: в каких блоках диска хранится его содержимое, размер, время создания,
   модификации и др.
</p>
<p>
Индексные дескрипторы файлов хранятся в специальной таблице. Каждый логический и физический диск имеет собственную таблицу дескрипторов.
</p>
<p>
Именно номер индекса является истинным именем файла в системе.
 Мы можем их увидеть с помощью ключа <code>-i</code> команды <code>ls.</code>
</p>
<h2>Создание ссылки <span>ln</span></h2>
<p>
Для создания  ссылок существует утилита <code>ln</code>. Ее синтаксис очень прост:
</p>
<p>
<span class="cmd">
$ ln опции файл_источник файл_ссылки
</span>
</p>
<p>
Рассмотрим опции утилиты:
</p>
<ul>
<li>-d - разрешить создавать жесткие ссылки для директорий суперпользователю;</li>
<li>-f - удалять существующие ссылки;</li>
<li>-i - спрашивать нужно ли удалять существующие ссылки;</li>
<li>-P - создать жесткую ссылку;</li>
<li>-r - создать символическую ссылку с относительным путем к файлу;</li>
<li>-s - создать символическую ссылку.</li>
</ul>
<h2>Жёсткая ссылка</h2>
<p><strong>Жесткая ссылка</strong> – это запись, которая указывает на дескриптор inode. Жесткие ссылки можно создавать только для файлов и только в пределах одной файловой системы. Перемещение или изменении имени исходного файла, не оказывает влияния на работоспособность жесткой ссылки.</p>
<p>
 Механизм жестких ссылок – это основной способ обращаться к файлу в Unix-подобных операционных системах.

Поскольку файл в операционной системе однозначно определяет только номер его дескриптора,
 а имя файла является лишь указателем-ссылкой на него, 
 то очевидно таких ссылок можно создать множество.
  Все они будут указывать на один объект.
   Результатом этого является то, что у файла в Linux может быть несколько имен.
</p>
<p>
Это используется для удобного доступа из разных мест файловой структуры, а также в предоставлении доступа.
 Так одно имя файла может быть в одном каталоге, второе – в другом.
 
 </p>
<p>
Следствием механизма жестких ссылок Linux является то, что удаление жесткой ссылки на файл не приводит к удалению самого файла
 из системы при наличии у этого файла других жестких ссылок (имен файла).

Файл будет доступен системе, пока будет существовать хотя бы одна жесткая ссылка на него.
 В случае удаления всех ссылок, файл удалится из системы, так как станет просто недоступен.
</p>

<h4>Создание жесткой ссылки в Linux</h4>
<p>Чтобы создать жесткую ссылку в Linux,&nbsp;используется команда <code>ln</code>:</p>
<pre># Синтаксис команды
ln &lt;цель&gt; &lt;ссылка&gt;
# Создать жесткую ссылку в Linux
ln /home/file /link</pre>
<p>Если попытаться создать жесткую ссылку для каталога и файла за пределами одной файловой системы, то вы получите ошибку.</p>

<h2>Символическая ссылка</h2>
<p>
Несмотря на возможности, которые предоставляют жесткие ссылки, у них есть ограничения:
</p>
<ul>
<li>
их можно создавать только на файлы, но не на каталоги;
</li>
<li>
жесткую ссылку нельзя создать на файл, находящийся на другом диске.
</li>
</ul>
<p>
Последнее означает, что нельзя создать жесткую ссылку на файл находящийся, например, на съемном носителе или другом разделе жесткого диска.
 Это связано с тем, что каждый носитель имеет собственную таблицу дескрипторов.
</p>
<p>
Поэтому в операционных системах GNU/Linux поддерживается также механизм мягких ссылок.
 Часто их называют символьными ссылками. Они представляют собой файлы, указывающие не на индексные дескрипторы, а на имена файлов, т. е. на жесткие ссылки.
  Мягкая ссылка в Linux аналог ярлыка в Windows.</p>
<p>
Поскольку жесткая ссылка указывает непосредственно на индексный дескриптор, а мягкая – только на жесткую ссылку, то если удалить все жесткие ссылки файла, то символьная ссылка работать не будет.
 Она станет "битой".
</p>
<h4>Создание символической ссылки в Linux</h4>
<p>Чтобы создать символическую ссылку в Linux, вместе с командой <code>ln</code>, необходимо использовать параметр <code>-s</code>:</p>
<pre># Синтаксис команды
ln -s &lt;цель&gt; &lt;ссылка&gt;
# Создать символическую ссылку в Linux
ln -s /home/file /link
ln -s /home/dir /home/link</pre>
<p>При создании символических ссылок, имена файлов могут быть как абсолютными, так и относительными.</p>


  </div>
 </body>
</html>