
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Командная сторока</title>
		  <link  href="../../Design/script.css" rel="stylesheet">
		  <link  href="../../Design/toolbar.css" rel="stylesheet">
		  <script src ="../../Design/bild.js"></script>
		  </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../Bash_main.html');
		 </script>
			<div class="content">

                <p>Напомним, что команда <code>cd</code> без аргументов делает домашнюю директорию пользователя рабочей (working directory). Возникает вопрос, каким образом она узнаёт о том, где находится домашняя директория? Но ответ гениально прост - эта команда ориентируется на так называемую <em>переменную окружения</em>. Переменные окружения похожи на переменные в языках программирования. Они существуют в рамках запущенной сессии командного интерпретатора, подгружаются туда во время его инициализации (но это не единственный путь их появления). Посмотреть установленные переменные можно командой <code>env</code> (<strong>env</strong>ironment).</p>
    <p> Вот к примеру неполный вывод пременных на моём компьютере:</p>

<pre  class="cmd">$ env
        SHELL=/bin/bash
        DESKTOP_SESSION=Lubuntu
        LXQT_SESSION_CONFIG=session
        PWD=/home/rekoshed/Github/Rekoshed.github.io/Bash/Overviev
        LOGNAME=rekoshed
        QT_QPA_PLATFORMTHEME=lxqt
        XDG_SESSION_TYPE=x11
        GPG_AGENT_INFO=/run/user/1000/gnupg/S.gpg-agent:0:1
        XAUTHORITY=/home/rekoshed/.Xauthority
        HOME=/home/rekoshed
        LC_PAPER=en_AG
        LANG=ru_RU.UTF-8
        XDG_CURRENT_DESKTOP=LXQt
        LXQT_DEFAULT_OPENBOX_CONFIG=/etc/xdg/xdg-Lubuntu/openbox/lxqt-rc.xml
        USER=rekoshed
        BROWSER=/usr/bin/yandex-browser-beta
        PATH=/home/rekoshed/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/rekoshed/.composer/vendor/bin:/home/rekoshed/.composer/vendor/bin
        TERM_PROGRAM=vscode
        _=/usr/bin/env
</pre>

<p>Формат вывода очень простой: слева от знака равно имя переменной, справа — значение. Вывод команды <code>env</code> в вашем случае будет отличаться не только значениями этих переменных, но и их составом.</p>

<p>Основное предназначение переменных окружения — конфигурация системы и программ. Их удобство заключается в универсальности и отвязке от способа появления этих значений в системе. Возьмём ту же <code>cd</code>. Эта команда знает лишь то, что домашняя директория доступна в переменной окружения <code>HOME</code>. Как она попала в систему — не важно. Без переменной окружения пришлось бы делать одну из двух вещей:</p>

<ul>
<li>При вызове <code>cd</code> каждый раз указывать, где находится домашняя директория. Например, так: <code>cd --home-dir /home/rekoshed</code>. Но такой способ убивает весь смысл быстрого перехода в домашнюю директорию.</li>
<li>Договариваться о том, что где-то будет храниться специальный файл с настройками (в том числе домашней директории), которые будут читаться командой <code>cd</code> при каждом запуске.</li>
</ul>

<p>Существует некоторый базовый набор переменных, которые всегда устанавливаются башем при старте. Они используются большим количеством утилит и нужны для нормального функционирования системы. Одну из таких переменных мы уже знаем — это <code>HOME</code>.</p>

<p>По умолчанию любой запущенный процесс получает все переменные родительского процесса (процесс-создатель). Именно поэтому команда <code>cd</code> может прочитать переменную <code>HOME</code>. Переменные можно создавать и изменять в любой момент времени, например:</p>

<pre  class="cmd"># Для вывода переменной используется echo, а перед самой переменной ставится знак $.
$ echo $HOME
/home/rekoshed
# Для установки знак $ не нужен.
# Очень важно чтобы не было пробелов вокруг знака равно
$ HOME=/tmp
</pre>

<p>Теперь проведём эксперимент: попробуем установить <code>HOME</code> и выполнить переход.</p>

<pre  class="cmd"># Достаточно выполнить присваивание слева от запускаемой команды
$ HOME=/tmp cd
/tmp$ pwd
/tmp
</pre>

<p>Ничего не подозревающая команда <code>cd</code> получила переменную <code>HOME</code> и выполнила честный переход в указанную директорию. Теперь снова сделаем <code>cd</code>, но уже не указывая ничего.</p>

<pre  class="cmd">$ cd
~$ pwd
/home/rekoshed
~$ echo $HOME
/home/rekoshed
</pre>


<p>В этот раз произошел переход в настоящую домашнюю директорию. Получается, что вызов выше изменил переменную только для того конкретного запуска. И действительно, существует два способа задавать значение переменной окружения: локальный и глобальный. Когда мы указали <code>HOME=/tmp</code> прямо перед командой <code>cd</code>, то переменная не была изменена локально — т.е. была изменена для запущенной команды, в данном случае <code>cd</code>. Такой трюк можно проделывать с любой командой. Другой способ установки изменяет значение глобально, для всей сессии и выполняется так:</p>

<pre  class="cmd">~$ export HOME=/tmp
/home/rekoshed$ cd
~$ pwd
/tmp
~$ echo $HOME
/tmp
</pre>


<p><em>Обратите внимание на то, что изменение происходит в рамках текущей сессии, другими словами, если у вас открыто две вкладки терминала, и в каждой загружен баш, то изменение произойдет только в той вкладке, в которой будет выполнена команда.</em></p>

<p>Особую роль среди переменных окружения играет переменная <code>PATH</code>. Она важна для разработчиков и часто возникают связанные с ней сложности, по этому с ней стоит познакомиться поближе. </p>

<h3> Статьи </h3>
<ul>
		<li><a href="Enviroment/path.html" > <p> Пемннная PATH</p></a></li>
		<li><a href="https://ru.wikipedia.org/wiki/PATH_(переменная)" > <p>PATH. Википедия </p></a></li>
		<li><a href="/.html" > <p> </p></a></li>
</ul>       
    </div>
  </div>
 </body>
</html>