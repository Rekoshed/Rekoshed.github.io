
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Командная сторока</title>
		  <link  href="../../Design/script.css" rel="stylesheet">
		  <link  href="../../Design/toolbar.css" rel="stylesheet">
		  <script src ="../../Design/bild.js"></script>
		  </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../Bash_main.html');
		 </script>
			<div class="content">

			
<p>Привычный способ ставить программы для Windows пользователя — бродить по интернету в поисках нужных приложений. В *Nix системах такой способ хоть и используется, но значительно реже. Для установки программ, особенно связанных с разработкой, придумали пакетные менеджеры. Далее, для всех примеров я буду использовать пакетный менеджер <em>apt</em>, который поставляется с Ubuntu.</p>

<p>В других операционных системах пакетные менеджеры называются по другому, но работают примерно также:</p>

<ul>
<li>MacOS - <a href="https://brew.sh/" target="_blank">brew</a>
</li>
<li>Windows - <a href="https://chocolatey.org/" target="_blank">Chocolatey</a>
</li>
</ul>

<p>Ни один из этих пакетных менеджеров не установлен в систему по умолчанию. Перейдите на официальный сайт нужного вам менеджера и установите его.</p>

<p>Например, установка php в Ubuntu выглядит так:</p>

<pre id='cmd'>$ sudo apt install php
# Здесь будет много текста и вопрос, устанавливать ли? Если да, то установится php
$ php -v
PHP 7.2.7 (cli) (built: Jun 22 2018 06:27:50) ( NTS )
</pre>

<p>Пакетный менеджер состоит из нескольких частей. Одна из них взаимодействует с пользователем напрямую — это консольная утилита <code>apt</code>. Для установки необходимой программы нужно набрать <code>apt install</code> и далее указать её имя. Почти всегда пакетные менеджеры требуют запуска от рута (root), так как установка программ происходит в системные директории, недоступные для записи обычному пользователю (но это не всегда так, в MacOS не нужно использовать sudo).</p>

<pre id='cmd'>$ apt install php
E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?
</pre>

<p>Установленные пакеты можно удалять. Для этого используется команда <code>apt remove</code>:</p>

<pre id='cmd'>$ apt remove php
# Тут тоже много вывода и вопрос, удалять ли?
</pre>

<p>На другом конце провода находится каталог так называемых <strong>пакетов</strong>. Во время попытки установить программу утилита <code>apt</code> выполняет запрос в каталог и пытается понять, есть ли там пакет с таким именем. Если его нет, то вы об этом узнаете:</p>

<pre id='cmd'># Пакета wrongname не существует
$ sudo apt install wrongname
Reading package lists... Done
Building dependency tree
Reading state information... Done
E: Unable to locate package wrongname
</pre>

<p>Для экономии ресурсов (сети) и ускорения работы apt сохраняет <strong>индекс</strong> (список пакетов в каталоге) на локальный диск и использует его для своей работы. Иногда это может приводить к ситуациям, что пакет в реальности существует, но <code>apt</code> утверждает обратное. Если вы чувствуете подвох, то запустите ручное обновление локального индекса:</p>

<pre id='cmd'>$ sudo apt update
# Теперь можно устанавливать
$ sudo apt install php
</pre>

<p>После прочтения первой части у вас должно возникнуть как минимум три вопроса:</p>

<ol>
<li>
<p>Как узнать какой пакет ставить?</p>

<p>Когда появляется необходимость установить определённую программу, то самый очевидный способ сделать это, найти сайт программы и выполнить действия, указанные на странице "Скачать" (обычно Download). Как правило, на этой странице есть указание о том, как можно использовать пакетный менеджер, с примерами команд, включающих в себя названия пакета. Пример: <a href="https://nodejs.org/en/download/package-manager/" target="_blank">nodejs</a>.</p>

<p>Другой способ: загуглить статьи в стиле <em>php install ubuntu</em>. В таких статьях установка всегда идёт через пакетный менеджер. Со временем вы запомните имена многих пакетов и сможете ставить их "на автомате".</p>
</li>
<li>
<p>Чем пакет отличается от программы?</p>

<p>Сама программа ничего не знает про существование пакетного менеджера. Но чтобы её можно было ставить через менеджер пакетов, она должна быть специальным образом "упакована". Это может сделать как автор программы, так и энтузиасты. В Ubuntu используется специальный формат пакетов, называемый <em>deb</em>. У этого формата есть подробная документация о том, как производить упаковку.</p>
</li>
<li>
<p>Как программы попадают в каталог?</p>

<p>А вот здесь всё сильно зависит от политики тех, кто его поддерживает. В некоторые каталоги попасть очень тяжело и программы в них обновляют медленно. Связано это с тем, что разработчики стараются добавлять туда только проверенный софт. В других всё происходит просто и быстро. В любом случае необходимо пройти некоторую процедуру, после которой программа будет добавлена. <strong>Это один из ключевых аспектов, по которому дистрибутивы линукса отличаются друг от друга</strong>. В любом случае эти каталоги огромны, в них входят десятки и сотни тысяч программ и библиотек.</p>
</li>
</ol>

<p>Пакетные менеджеры не являются прерогативой операционных систем: любая экосистема, внутри которой возможно распространение библиотек или программ, имеет свой пакетный менеджер. Пакетные менеджеры есть у всех языков программирования, иногда несколько, большинство из них включены в языки по умолчанию. В nodejs (серверный javascript) пакетный менеджер npm, в php — composer, в ruby — gem, в python — pip.</p>

	
            </div>
  </div>
 </body>
</html>