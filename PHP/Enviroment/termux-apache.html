
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>PhP окружение</title>
		  <link  href="../../Design/script.css" rel="stylesheet">
		  <link  href="../../Design/toolbar.css" rel="stylesheet">
		  <script src ="../../Design/bild.js"></script>
		  </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../PHP_main.html');
		 </script>
		 
		 <style type="text/css">
		 
		 </style>
			<div class="content php-content">
	  
	        
	        
	        Установка веб-сервера Apache + PHP 7 на Android без Root прав.
	        
	        Приложения которые нам понадобятся:
	        
	        1] https://play.google.com/store/apps/details?id=com.termux
	        
	        2] https://play.google.com/store/apps/details?id=org.pocketworkstation.pckeyboard
	        
	        Устанавливем оба приложения, переключаемся на клавиатуру Hacker's keyboard и запускаем эмулятор терминала Termux.
	        
	        Далее пишем команду
	        
	        pkg install php-apache
	        
	        Нажемаем Enter и подтверждаем установку клавишей Y.
	        
	        Эта команда установит php модуль веб сервера Apache,
	        при этом подтянет за собой нужные ему библиотеки и пакеты в том числе и сам php7 и Apache.
	        
	        9th April 2018, 8:03 AM
	        
	        Сергей Луньков 
	        +11
	        
	        После окончания установки даём следующую команду
	        
	        pkg install nano 
	        
	        снова Enter и продтверждаем.
	        
	        Это установится текстовый редактор.
	        
	        Теперь нам нужно перейти в директорию с конфигурационным файлом Apache, чтобы подружить модуль php c веб сервером для этого набираем команду
	        
	        cd ../usr/etc/apache2
	        
	        Жмем Enter- далее по тексту нажатие клавиш будет отображаться [Enter] и т.д.
	        
	        Открываем конфиг в текст.редакторе Нано.
	        
	        nano httpd.conf [Enter]
	        
	        Далее ищем Нужные нам строки.
	        
	        [Ctrl]+[W] DocumentRoot [Enter]
	        
	        Эта директива настраивает корневую папку сайта, т.е. ту где будут находиться все наши файлы.
	        Меняем 2 строки чтобы они приняли такой вид
	        
	        DocumentRoot "/sdcard/web/www"
	        <Directory "/sdcard/web/www">
	        
	        9th April 2018, 8:03 AM
	        
	        Сергей Луньков 
	        +11
	        
	        Ищем директиву определяющую индексные файлы по умолчанию
	        
	        [Ctrl]+[W] DirectoryIndex [Enter]
	        
	        Изменяем, чтобы директива приняла такой вид
	        
	        DirectoryIndex index.php index.html
	        
	        Ищем список подключаемых модулей
	        
	        [Ctrl]+[W] Load [Enter]
	        
	        Проматываем в конец списка и добавляем следующие строки
	        
	        LoadModule php7_module libexec/apache2/libphp7.so
	        <IfModule php7_module>
	        <FilesMatch \.php$>
	        SetHandler application/x-httpd-php
	        </FilesMatch>
	        </IfModule>
	        
	        Сохраняем файл комбинацией клавиш [Ctrl]+[O] подтверждаем [Enter]
	        Далее создаем нашу новую корневую папку сайта и тестовый php файл.
	        
	        mkdir -p /sdcard/web/www [Enter]
	        echo -e "<?php \n phpinfo(); \n ?>" >> /sdcard/web/www/index.php [Enter]
	        
	        Готово!
	        Мы установили веб сервер
	        
	        Server version: Apache/2.4.33 (Unix)
	        Server built:   Mar 22 2018 21:30:22
	        
	        и настроили его для работы с php
	        
	        PHP 7.2.3 (cli) (built: Mar 10 2018 23:50:09) ( ZTS )
	        Copyright (c) 1997-2018 The PHP Group
	        Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies
	        
	   
	        </div>
  </div>
 </body>
</html>