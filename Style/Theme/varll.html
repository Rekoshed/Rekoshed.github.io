
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>CSS. Блочная модель</title>
		  <link  href="../../Design/script.css" rel="stylesheet">
		  <link  href="../../Design/toolbar.css" rel="stylesheet">
		  <script src ="../../Design/bild.js"></script>
		  </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../Style_main.html');
		 </script>
		 <style type="text/css">
:root {
--main-color: #f66fff;
}

h3 {
color: var(--main-color);
}
		 </style>
			<div class="content">
			<h3>Объявление глобальной переменной CSS</h3>
			<p>
			 Чтобы переменная была доступна глобально,
			 определите её в псевдоклассе <span>:root</span>, 
			 который соответствует корневому элементу 
			 в дереве документов (обычно это тег<b> &lt;html></b>).
			</p>
			<p>
			Поскольку переменные наследуются, 
			то они доступны
			 во всём вашем приложении, 
			 так как все ваши DOM-элементы являются 
			 потомками тега<b> &lt;html></b>.
			</p>
<pre id="kod">
:root {
--main-color: #ff6f69;
}
</pre>
<p>
Переменная должна начинаться
  с двух дефисов (--).
</p>
<p>
Для получения доступа к переменной,
 нужно использовать функцию <b>var()</b>
  и передать имя переменной в качестве первого параметра.
</p>
<pre id="kod">
#title {
color: var(--main-color);
}
<code>/*И это назначит вашему заголовку цвет #ff6f69:*/</code>
</pre>
<p>
Функция <b>var</b> поддерживает второй параметр,
 фолбэк, то есть значение (или также CSS-переменная), 
 которое будет использоваться, если переменная,
  переданная первым параметром, не определена, например:
</p>
<pre id="kod">
#title {
color: var(--main-color, black);
}
</pre>
<p>
Если переменная <span class="green">main-color</span> недоступна, 
то будет использоваться черный цвет (black).
</p>


<h3>Объявление локальной переменной</h3>
<p> Переменные с локальной
 областью видимости,доступны
  только для того элемента, в котором они были объявлены,
   включая его дочерние элементы.
    </p>
    <p>
Например, у вас может быть окно с предупреждением, 
в котором используется определённый цвет, 
который не используется в других частях приложения. 
В этом случае скорее всего нецелесообразно
 определять этот цвет в глобальной области:
</p>
<pre id="kod">
.alert {
  --alert-color: #ff6f69;
}
</pre>
<p>
Теперь эта переменная может использоваться 
в дочерних элементах:
</p>
<pre id="kod">
.alert p {
  color: var(--alert-color);
  border: 1px solid var(--alert-color);
}
</pre>
<p>
Если вы попытаетесь использовать переменную
 <span class="green">alert-color</span> в другой части приложения,
  например, в навигационной панели, 
  это не сработает: браузер просто 
  проигнорирует такую строку CSS
   (за исключением, если не был предоставлен 
   фолбэк вторым параметром).
</p>

<h3>Реализация адаптивности с переменными</h3>
<p>
Большое преимущество CSS-переменных заключается 
в том, что они имеют доступ к DOM.
 <br>
На практике это означает, что вы можете, 
например, изменить переменные в зависимости 
от ширины экрана:
</p>
<pre id="kod">
:root {
  --main-font-size: 16px;
}

media all and (max-width: 600px) {
  :root {
    --main-font-size: 12px;
  }
}
</pre>
<p>
Всего четыре строки кода  изменили 
базовый размер шрифта при просмотре
 вашего приложения на маленьком экране.
 </p>
<h3>
Как получить доступ к переменным из JavaScript?
</h3>
<p>
Доступ к CSS-переменным с помощью JavaScript — 
это ещё одно из преимуществ того, 
что CSS-переменные являются частью DOM.
 Вы можете обновлять их значения, 
 что может пригодится, если вы хотите дать 
 возможность вашим пользователям изменять
  внешний вид сайта (например, изменить
   размер шрифта).
</p>
<p>
Например.Получение значение CSS-переменной через
 JavaScript занимает три строки кода:
</p>
<pre id="kod">
var root = document.querySelector(':root');
var rootStyles = getComputedStyle(root);
var mainColor = rootStyles.getPropertyValue('--main-color');

console.log(mainColor); // '#ffeead'
</pre>
<p>
Для обновления переменной CSS,
 просто вызовите метод setProperty 
 на элементе, в котором была объявлена переменная,
  и передайте имя переменной в качестве первого параметра
   и новое значение — вторым.
</p>
<code id="kod">
root.style.setProperty('--main-color', '#88d8b0');
</code>
<p>
Изменение основного цвета повлияет на весь внешний
 вид приложения, что идеально подходит для случаев, 
 когда пользователи могут выбрать тему на вашем сайте.
 </p>
</div>
  </div>
 </body>
</html>