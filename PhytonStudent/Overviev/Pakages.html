
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Phyton обзор</title>
		<link  href="../script.css" rel="stylesheet">
		<script src ="../../Design/bild.js"></script>
     </head>
     <body>
	     <script>
	 		toolbar('../../index.html','../PyMain.html');
		 </script>
		    <div class="content">
                <h3> Пакеты (Pakages) в Phyton</h3>

                <p>Итак, пакет — это каталог с файлами модулей. Модули объеденяются в группы по смыслу и могут использоваться в разных проектах как единый пакет (pakage).
                Пакет именуется в формате "snake_case" и содержит  специальный модуль с именем "<code>__init__.py</code>". 
    Именно наличие этого специального файла подсказывает интерпретатору Python, что каталог следует воспринимать именно как пакет.</p>

<h3>Простейший пакет</h3>

<p>Давайте рассмотрим пример простейшего пакета. Пусть пакет состоит из каталога <code>package</code> и модуля <code>__init__.py</code> внутри этого каталога:</p>

<pre><code class="bash">package/
└── __init__.py
</code></pre>

<p>Файл <code>__init__.py</code> пусть содержит код:</p>

<pre><code class="python"># file __init__.py
NAME = 'super_package'
</code></pre>

<p>Это, хотя и небольшой, но уже полноценный пакет. Его можно импортировать так же, как мы импортировали бы модуль:</p>

<pre><code class="python">import package

print(package.NAME)
</code></pre>

<p>Заметьте — мы не импортировали файл <code>__init__.py</code> непосредственно. При первом обращении к пакету Python автоматически импортирует модуль <code>__init__.py</code> в этом пакете. Поэтому, очевидно, нельзя импортировать "просто каталог" — ведь каталог без файла <code>__init__.py</code> не будет полноценным пакетом!</p>

<h3>Содержимое пакета</h3>

<p>С простым пакетом всё ясно — его можно использовать как модуль. Но давайте уже перейдём к группировке в пакете нескольких модулей! Для этого в пакет положим ещё два модуля:</p>

<pre><code class="bash">package/
├── constants.py
├── functions.py
└── __init__.py
</code></pre>

<p>Содержимое модуля <code>constants.py</code>:</p>

<pre><code class="python"># file constants.py
PERSON = 'Alice'
</code></pre>

<p>Содержимое модуля <code>functions.py</code>:</p>

<pre><code class="python"># file functions.py
def greet(who):
    print('Hello, ' + who + '!')
</code></pre>

<p>Когда пакет содержит другие модули, кроме <code>__init__.py</code>, таковые можно импортировать по их именам. В главе про модули упоминались два варианта импортирования: квалифицированный импорт и импортирование отдельных определений. Квалифицированный импорт в данном случае будет выглядеть так:</p>

<pre><code class="python">import package.functions
import package.constants

package.functions.greet(package.constants.PERSON)  # =&gt; Hello, Alice!
</code></pre>

<p>Этот вариант самый понятный: в строчке вызова функции greet сразу видно, откуда пришла функция, а откуда — её аргумент. Но писать имя пакета и имя модуля каждый раз — утомительно! Давайте импортируем саму функцию и аргумент:</p>

<pre><code class="python">from package.functions import greet
from package.constants import PERSON

greet(PERSON)  # =&gt; Hello, Alice!
</code></pre>

<p>Такая строчка вызова функции является более читаемой. Но чтобы узнать, откуда функция и константа появились  потребуется посмотреть в <em>блок импортов</em></p>

<h3>Пакеты и импорты</h3>

<p>Импорты в Python бывают двух видов: <em>абсолютные</em> и <em>относительные</em>. Понимание разницы становится особенно важным, когда вы начинаете работать с пакетами.</p>

<h4>Абсолютные импорты</h4>

<p>Абсолютный импорт выглядит, как указание полного пути до модуля, включающем все пакеты и <em>подпакеты (subpackages)</em> — да, любой пакет может содержать не только модули, но и вложенные пакеты! Полные пути гарантируют однозначность: интерпретатору всегда понятно, что и откуда импортируется, и читать такие импорты проще.</p>

<h4>Относительные импорты</h4>

<p>Относительные импорты выглядят так:</p>

<pre><code class="python">from . import module
from .module import function
from .subpackage.module import CONSTANT
</code></pre>

<p>Здесь точка означает <em>текущую директорию</em> для модуля, <em>который и осуществляет импорт</em>. 
    К примеру, импорт из <code>.module</code> означают импорт из модуля, находящегося в той же директории,
     которая содержит модуль с данным импортом. 
     Такая запись сложна, поэтому уже сейчас относительные импорты лишены части возможностей, 
     которые были доступны в более ранних версиях языка.</p>


<p>Предпочтительным в программирование является использование абсолютных импортов.При этом приходится писать чуть больше, 
    но читаемость кода — слишком полезное свойство, чтобы от него отказываться!</p>

            </div>
  </div>
 </body>
</html>