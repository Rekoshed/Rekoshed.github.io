
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>JS Строки.</title>
		<link  href="../script.css" rel="stylesheet">
		<script src ="../js/bild.js"></script>	
		</head>
		<body>
		<script>
		toolbar('../../index.html','../ScriptMain.html');
		</script>
	<div class="content">
	
	<h2>Синтаксис регулярных выражений</h2>
	<h3>
	Метасимволы
	</h3>
	<p>
	Mетасимволы - символы, которые имеют определенный смысл:
	</p>
	<ul>
	<li>
	\d: соответствует любой цифре от 0 до 9
	</li>
	<li>
	\D: соответствует любому символу, который не является цифрой
	</li>
	<li>
	\w: соответствует любой букве, цифре или символу подчеркивания (диапазоны A–Z, a–z, 0–9)
	</li>
	<li>
	\W: соответствует любому символу, который не является буквой, цифрой или символом подчеркивания (то есть не находится в следующих диапазонах A–Z, a–z, 0–9)
	</li>
	<li>
	\s: соответствует пробелу
	</li>
	<li>
	\S: соответствует любому символу, который не является пробелом
	</li>
	<li>
	.: соответствует любому символу
	</li>
	</ul>
	<p>
	Здесь надо заметить, что метасимвол <span>\w </span>применяется только для букв латинского алфавита,
	 кириллические символы для него не подходят.
	<br><br>
	Так, стандартный формат номера телефона +1-234-567-8901 соответствует регулярному выражению 
	\d-\d\d\d-\d\d\d-\d\d\d\d. 
	Например, заменим числа номера нулями:
	<pre id="kod">
	var phoneNumber = "+1-234-567-8901";
	var myExp = /\d-\d\d\d-\d\d\d-\d\d\d\d/;
	phoneNumber = phoneNumber.replace(myExp, "00000000000");
	document.write(phoneNumber);
	</pre>
	</p>
	<h3>
	Модификаторы
	</h3>
	<p>
	Кроме выше рассмотренных элементов регулярных выражений 
	есть еще одна группа комбинаций, 
	которая указывает, как символы в строке будут повторяться.
	 Такие комбинации называют модификаторами:
	</p>
	<ul>
	<li>
	{n}: соответствует n-ому количеству повторений предыдущего символа. Например, h{3} соответствует подстроке "hhh"
	</li>
	<li>{n,}: соответствует n и более количеству повторений предыдущего символа. Например, h{3,} соответствует подстрокам "hhh", "hhhh", "hhhhh" и т.д.
	</li>
	<li>{n,m}: соответствует от n до m повторений предыдущего символа. Например, h{2, 4} соответствует подстрокам "hh", "hhh", "hhhh".
	</li>
	<li>?: соответствует одному вхождению предыдущего символа в подстроку или его отсутствию в подстроке. Например, /h?ome/ соответствует подстрокам "home" и "ome".
	</li>
	<li>+: соответствует одному и более повторений предыдущего символа
	</li>
	<li>*: соответствует любому количеству повторений или отсутствию предыдущего символа
	</li>
	<li>^: соответствует началу строки. Например, ^h соответствует строке "home", но не "ohma", так как h должен представлять начало строки
	</li>
	<li>$: соответствует концу строки. Например, м$ соответствует строке "дом", так как строка должна оканчиваться на букву м
	</li>
	</ul>
	<p>
	Например, возьмем номер тот же телефона. 
	Ему соответствует регулярное выражение 
	\d-\d\d\d-\d\d\d-\d\d\d\d. 
	Однако с помощью выше рассмотренных комбинаций мы его можем упростить: 
	\d-\d{3}-\d{3}-\d{4}
	<br><br>
	Также надо отметить, что так как символы ?, +, * имеют особый смысл в регулярных выражениях, 
	то чтобы их использовать в обычным для них значении (например, нам надо заменить знак плюс в строке на минус), 
	то данные символы надо экранировать с помощью слеша:
	<pre id="kod">
	var phoneNumber = "+1-234-567-8901";
	var myExp = /\+\d-\d{3}-\d{3}-\d{4}/;
	phoneNumber = phoneNumber.replace(myExp, "80000000000");
	document.write(phoneNumber);
	</pre>
	Kомбинация <span>'\b'</span>,  указывает на соответствие в пределах слова. 
	 И в этом случае мы можем проводить замену, если регуляное выражение соответствует всему слову:
	<pre id="kod">
	var initialText = "Языки обучения: Java, JavaScript, C++";
	var exp = /Java\b/g;
	var result = initialText.replace(exp, "C#");
	document.write(result); // Языки обучения: C#, JavaScript, C++
	</pre>
	Но при использовании '\b' надо учитывать, что в JavaScript отсутствует полноценная поддержка юникода, 
	поэтому применять '\b' мы сможем только к англоязычным словам.
	<br><br>
	Использование групп в регулярных выражениях
	Для поиска в строке более сложных соответствий применяются группы. В регулярных выражениях группы заключаются в скобки. Например, у нас есть следующий код html, который содержит тег изображения: '<img src="picture.png" />'. И допустим, нам надо вычленить из этого кода пути к изображениям:
	<pre id="kod">
    var initialText = '<.img src= "picture.png" />;<.img src= "image.png" />'; 
    document.write("<.h3> Первое включение<./h3>")
    var exp = /[a-z]+\.(png|jpg)/i; // поиск независимо от регистра.
    var result = initialText.match(exp); 
    result.forEach(function(value, index, array){
    
    document.write(value + "<.br/>");
    })
    document.write("<.h3>Глобальный поиск<./h3>")
    var exp = /[a-z]+\.(png|jpg)/ig; // поиск всех включений независимо от регистра.
    var result = initialText.match(exp); 
    result.forEach(function(value, index, array){
    
    document.write(value + "<.br/>");
    })
	<span>
Вывод браузера:
	</span>
	<a href="Test/MetaTest.html" id="out">Output</a>
	
	</pre>
	Первая часть до скобок (<span>[a-z]+\.</span>) указывает на наличие в строке от 1 и более символов из диапазона a-z, 
	после которых идет точка. 
	Так как точка является специальным символом в регулярных выражениях, 
	то она экранируется слешем.
	 А дальше идет группа: <span>(png|jpg)</span>. 
	 Эта группа указывает, что после точки может использоваться как "png", так и "jpg".
</p>
  </div>
 </body>
</html>