
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>JS События</title>
		<link  href="../script.css" rel="stylesheet">
		<script src ="../js/bild.js"></script>
		
	</head>
	<body>
		<script>
		   toolbar('../../index.html','../Scriptmain.html');
		</script>
	<div class="content">
	
	<h2>Коллекции и итераторы</h2>
	<h3>Итераторы</h3>
	<p>
	Итераторы применяются для организации последовательного доступа 
	к элементам коллекции - массивам, 
	объектам<b> Set и Map. </b>
	Итераторы предоставляют метод <span>next(),</span>
	 который возвращает два значения:
	 <b> value и done.</b>
	  value хранит собственно значение текущего перебираемого элемента.
	   А свойство done указывает, 
	   есть ли еще в коллекции объекты, 
	   доступные для перебора.
<br><br>	
	Некоторые методы коллекций возвращают итераторы.
	 Например, метод <span>entries(),</span>
	  который есть у коллекций <b>Array, Set, Map:</b>
	<pre id="kod">
	let users = ["Tom", "Bob", "Sam"];
	let items = users.entries();
	console.log(items.next());
	</pre>
	Метод <span>next</span> возвратит следующий объект на консоль:
<pre>	
	{value: Array(2), done: false}
	done:	false
	value:	Array(2)
	0:	0
	1:	"Tom"
	length:	2
	__proto__:	Array(0)
	__proto__:	Object
	</pre>
	Здесь мы видим, что свойство <b>done</b> имеет значение <b>false</b>
	, так как мы перебрали только один элемент в множестве, 
	и там еще есть два элемента.
	<br><br>
	Свойство <b>value</b> представляет массив из двух значений. 
	Первое значение представляет ключ или индекс элемента массива,
	 а второй элемент - значение по этому индексу. 
	<br><br>
	Соответственно мы можем организовать и перебор всей коллекции:
	<pre id="kod">
	let users = ["Tom", "Bob", "Sam"];
	let items = users.entries();
	var result = items.next();
	
	while(result.done === false){
	console.log(result.value[0], result.value[1]);
	result = items.next();
	}
	<span>
	Консольный вывод:
	
	0 "Tom"
	1 "Bob"
	2 "Sam"
	</span>
	</pre>
	Но в этом нет смысла, поскольку все коллекции,
	 возвращающие итераторы, 
	 поддерживают перебор с помощью цикла <b>for...of,</b>
	  который как раз и использует итератор 
	  для получения элементов:
	<pre id="kod">
	let users = ["Tom", "Bob", "Sam"];
	for(let val of users)
	console.log(val);
	</pre>
	Если мы хотим извлечь еще и индекс элемента в массиве, 
	то мы можем использовать для перебора итератор из <span>entries()</span>:
	<pre id="kod">
	let users = ["Tom", "Bob", "Sam"];
	for(let user of users.entries()){
	console.log(user[0], user[1]);
	}
	<span>
	Консольный вывод:
	
	0 "Tom"
	1 "Bob"
	2 "Sam"
</span>
</pre>
	<a href="Test/NextTest.html" id="out">Output</a>
	
  </div>
 </body>
</html>