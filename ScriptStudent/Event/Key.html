
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>JS События</title>
		<link  href="../script.css" rel="stylesheet">
		<script src ="../js/bild.js"></script>
		
	</head>
	<body>
	<script>
	toolbar('../../index.html','../ScriptMain.html');
	</script>
	<div class="content">
	<h3>События клавиатуры</h3>
	<p>
	Другим распространенным типом событий являются события клавиатуры.
	<ul>
	<li><span>keydown:</span> возникает при нажатии клавиши клавиатуры и длится, пока нажата клавиша</li>
	
	<li><span>keyup:</span> возникает при отпускании клавиши клавиатуры</li>
	
	<li><span>keypress:</span> возникает при нажатии клавиши клавиатуры, но после события <span>keydown </span>и до события <span>keyup</span>.</li>
	</ul>
	
	 Надо учитывать, что данное событие генерируется только для тех клавиш, которые формируют вывод в виде символов, например, при печати символов.
	 Нажатия на остальные клавиши, например, на <b>Alt,</b> не учитываются.
	<br><br>
	Для работы с событиями клавиатуры определен объект <span>KeyboardEvent,</span>
	 который добавляет к свойствам объекта <span>Event</span> ряд специфичных для клавиатуры свойств:
	<ul>
	<li><span>altKey: </span>возвращает <b>true,</b> если была нажата клавиша <b>Alt</b> во время генерации события</li>
	
	<li><span>charCode: </span>возвращает символ <span>Unicode </span>для нажатой клавиши (используется для события keypress)</li>
	
	<li><span>keyCode: </span>возвращает числовое представление нажатой клавиши клавиатуры</li>
	
	<li><span>ctrlKey: </span>возвращает <b>true,</b> если была нажата клавиша <b>Ctrl</b> во время генерации события</li>
	
	<li><span>metaKey:</span> возвращает <b>true,</b> если была нажата во время генерации события метаклавиша клавиатуры</li>
	
	<li><span>shiftKey:</span> возвращает <b>true,</b> если была нажата клавиша <b>Shift </b>во время генерации события</li>
	</ul>
	Например, мы можем с помощью клавиш клавиатуры перемещать 
	элемент на веб-странице:
	<pre id="kod">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8" /&gt;
	&lt;style&gt;
	<span>
	html, body{
	margin:0;
	overflow:hidden;
	}
	#blueRect{
	width:100px;
	height:100px;
	background-color:blue;
	}
	</style>
		</span>
	&lt;/style&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;div id="bluerect" &lt;/div&gt;
	&lt;script&gt;
	<span id="b">
	function moveRect(e){
	
	var blueRect = document.getElementById("blueRect");
	// получаем стиль для blueRect
	var cs = window.getComputedStyle(blueRect);
	
	var left = parseInt(cs.marginLeft);
	var top = parseInt(cs.marginTop);
	
	switch(e.keyCode){
	
	case 37:  // если нажата клавиша влево
	if(left>0)
	blueRect.style.marginLeft = left - 10 + "px";
	break;
	case 38:   // если нажата клавиша вверх
	if(top>0)
	blueRect.style.marginTop = top - 10 + "px";
	break;
	case 39:   // если нажата клавиша вправо
	if(left < document.documentElement.clientWidth - 100)
	blueRect.style.marginLeft = left + 10 + "px";
	break;
	case 40:   // если нажата клавиша вниз
	if(top < document.documentElement.clientHeight - 100)
	blueRect.style.marginTop = top + 10 + "px";
	break;
	}
	}
	
	addEventListener("keydown", moveRect);
	
	</span>
	&lt;/script&gt;
	&lt;/body&gt;
	&lt;/html&gt;
	</pre>
	
	
	В данном случае обрабатывается событие <span>keydown.</span>
	 В обработчике <span>moveRect </span>с помощью метода <span>window.getComputedStyle() </span>получаем стиль элемента <b>blueRect.</b>
	  А затем из этого стиля выбираем значения свойств <span>marginLeft и marginTop.</span>
	  <br><br>
	С помощьюсвойства <span>e.keyCode </span>получаем нажатую клавишу. 
	Список кодов клавиш клавиатуры можно посмотреть на сайте <a href="http://www.javascriptkeycode.com/." >http://www.javascriptkeycode.com/.</a>
	<br><br>
	Здесь наc интересуют четыре клавиши: <b>вверх, вниз, влево, вправо.</b>
	 Если одна из них нажата, производим действия:
	  увеличение или уменьшение отступа элемента от верхней или левой границы. 
	  Ну и чтобы элемент не выходил за границы окна,
	   проверяем предельные значения с помощью <span>document.documentElement.clientWidth</span> (ширина корневого элемента) и 
	   <span>document.documentElement.clientHeight </span>(высота корневого элемента).


	<a href="Test/KeyTest.html" id="out">Output</a>
	
  </div>
 </body>
</html>